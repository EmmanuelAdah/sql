var ClickBackRS;(function(n){function vi(){gi()&&(yi(),sj_evt.bind("load_clickback_rs",g,!0),sj_evt.bind("ajax.unload",gt))}function yi(){var t,r,u,n,e,s;if(ct())i=f()?document.querySelectorAll([nt,tt].join(",")):document.querySelectorAll(nt);else if(typeof _G!="undefined"&&((t=_G===null||_G===void 0?void 0:_G.EF)===null||t===void 0?void 0:t.clickbackRSonTopW)===1)i=f()?document.querySelectorAll([tt,o,a].join(",")):document.querySelectorAll([o,a].join(","));else{if(n=_ge("b_results"),n==null)return;i=f()?n.querySelectorAll([tt,o].join(",")):n.querySelectorAll(o)}i!=null&&(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRSonTopWFlare)===1&&(e=document.querySelectorAll(a),e&&e.length>0&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrstopwflare"])),s=rr(it),typeof _w!="undefined"&&s&&(sj_be(_d,it.visibilityChangedEventName,dt),sj_evt.bind("ajax.unload",ni)),p=document.querySelectorAll(ei),cr(),bi(),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSAfterOnP1)===1?sj_evt.bind("onP1",function(){sb_st(kt,li)}):kt(),sessionStorage[v]&&sessionStorage.removeItem(v),sessionStorage[y]&&sessionStorage.removeItem(y),gr())}function g(){var n,r;if(w=ti(v),rt=ti(y),i&&w&&rt){for(t=null,n=0;n<i.length;n++)if(r=i[n],r&&w==r.getAttribute("href")&&rt==n.toString()){t=ot(r);break}if(t){if(f()){if(t.querySelector(".b_rs")||yr(t))return}else if(ct()&&(t.classList.contains("b_algoBorder")||ui(t)))return;wt()}}}function pi(){var n=document.querySelectorAll("#inline_rs .rslist .b_suggestionText"),i,t,r;if(!n||n.length===0)return"";for(i=[],t=0;t<n.length;t++)r=n[t].textContent,r&&i.push(r);return i.join(",")}function wt(n){var i,r,u,o,s,h;if((n===void 0&&(n=!1),!f()||((i=t===null||t===void 0?void 0:t.classList)===null||i===void 0?!void 0:!i.contains("b_ans"))||(ar()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbRSOnAnswerFlare"]),!vr()))&&!ut&&t){if(o=t.querySelector(b),o){bt(o);return}(t===null||t===void 0?void 0:t.classList.contains("b_algo"))?(s=hi.replace(/\&amp\;/g,"&")+"&IG="+_G.IG+"&url="+ur(t)+"&q="+tr()+"&iid="+t.getAttribute("iid")+"&boprs="+pi(),e("RSClickBackRequest",w||""),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackAjaxRsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsajaxflare"]),ut=!0,h=t,sj_ajax(s,{callback:function(i,r){var f,u,o;(ut=!1,t===h)&&(i&&r?(u=sj_ce("div"),r.appendTo(u),((f=u.querySelectorAll(b))===null||f===void 0?void 0:f.length)==1?(e("RSClickBackResponse","true"),nr()?l(n):(o=u.querySelector(b),l(n,o))):(l(n),e("RSClickBackResponse","false"))):(l(n),e("RSClickBackResponse","false")))}})):(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRsAdsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsAdsFlare"]),l(n))}}function l(n,t){(n===void 0&&(n=!1),t===void 0&&(t=_ge(oi)),t)&&(h=t,wi(h),n?(et=!1,e("RSHoverShow","Triggered"),Log.LogFilterFlare(["cbRSHover"])):bt(h))}function bt(n){if(n){s&&s!=n&&!s.classList.contains(u)&&Lib.CssClass.add(s,u);n.classList.contains(u)&&Lib.CssClass.remove(n,u);var t=n.offsetHeight;n.style.height=t+"px";et=!1;s=n;di(n)}}function wi(n){var r,o,s,l,i,c;if(n&&t)if(n.classList.contains(ft)||Lib.CssClass.add(n,ft),n.classList.contains(u)||Lib.CssClass.add(n,u),e("Show","Triggered"),typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRSFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsflare"]),l=t.offsetHeight-si,Lib.CssClass.add(t,"qbrs"),t.setAttribute("data-oAH",l+"px"),!f()||t.classList.contains("sb_adTA")){if(i=t.querySelector(b),i){h=i;return}t.appendChild(n)}else{if(i=((s=(o=t.nextElementSibling)===null||o===void 0?void 0:o.classList)===null||s===void 0?void 0:s.contains(ft))?t.nextElementSibling:null,i){h=i;return}Lib.CssClass.add(n,"b_ans");n.style.paddingTop="0";n.style.marginBottom="4px";c=t.parentNode;c&&t.nextSibling&&c.insertBefore(n,t.nextSibling)}}function bi(){var u,c,l,t,e,n,s,h,r,v;if(i)for(c=ct()||f()?i.length:i.length-1,l=function(n){var r=i[n],u,t;sj_be(r,"click",function(){st(r.getAttribute("href"),n.toString())});u=ot(r);t=u?u.querySelector(fi):null;t&&t!=lt&&sj_be(t,"click",function(){st(r.getAttribute("href"),n.toString())});lt=t},n=0;n<c;n++)l(n);if(typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSonAdAlgoFlare)===1&&(t=_d.querySelectorAll(nt),e=_d.querySelectorAll([o,a].join(",")),t.length>0))for(n=0;n<t.length;n++){for(s=t[n],h=!0,r=0;r<e.length;r++)if(v=e[r],s.getAttribute("href")===v.getAttribute("href")){h=!1;break}h&&sj_be(s,"click",function(){Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsadalgoflare"])})}}function kt(){var t,n;if(p)for(t=0;t<p.length;t++)n=p[t],n.classList.contains("b_algoBorder")||(sj_be(n,"mouseover",er),sj_be(n,"mouseleave",or),sj_be(n,"mouseout",sr))}function ki(n){n&&n&&!n.classList.contains(u)&&Lib.CssClass.add(n,u)}function dt(){g()}function di(n){var t,i,r;if(n&&(t=n.querySelector(".b_clickback_close, #rscar_close"),t)){for(i=0;i<c.length;i++)if(c[i].element===t){sj_ue(t,"click",c[i].handler);c.splice(i,1);break}r=function(){return ki(n)};c.push({element:t,handler:r});sj_be(t,"click",r)}}function gt(){sj_evt.unbind("load_clickback_rs",g);sj_evt.unbind("ajax.unload",gt)}function ni(){sj_ue(_d,it.visibilityChangedEventName,dt);sj_evt.unbind("ajax.unload",ni)}function gi(){var n="sschkad",t="sschvad",i;try{if(typeof Storage=="undefined"||typeof sessionStorage=="undefined"||(sessionStorage.setItem(n,t),i=sessionStorage.getItem(n),sessionStorage.removeItem(n),i!=t))return!1}catch(r){return!1}return!0}function ot(n){for(var t,i,r;n&&n.id!="b_results";){if(f()){if(n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA")||n.classList.contains("b_ans"))&&(((t=n.parentElement)===null||t===void 0?void 0:t.id)==="b_results"||((i=n.parentElement)===null||i===void 0?void 0:i.id)==="b_topw"))return n}else if(n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA")))return n;if(r=n.parentElement,!r)break;n=r}return null}function ti(n){return sessionStorage[n]?sessionStorage.getItem(n):null}function st(n,t){sessionStorage.setItem(v,n);sessionStorage.setItem(y,t)}function nr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.clickbackRScflog!==undefined&&_G.EF.clickbackRScflog===1}function e(n,t){_w.sj_log&&sj_log("CI.RSSQB",n,t)}function tr(){return ii(window.location.search,"q")}function ir(){var i=undefined,r=undefined,t,n;if("hidden"in _d)i="hidden",r="visibilitychange";else for(t=["webkit","moz","ms","o"],n=0;n<t.length;n++)if(t[n]+"Hidden"in _d){i=t[n]+"Hidden";r=t[n]+"visibilitychange";break}return{hiddenProperty:i,visibilityChangedEventName:r}}function rr(n){return!!(n&&n.hiddenProperty&&n.visibilityChangedEventName)}function ur(n){var t,i;return n?(t=n.querySelector("h2 a"),!t)?null:(i=t.getAttribute("href"),!i)?null:fr(i):null}function fr(n){var t=ii(n,"u");if(!t||!t.startsWith("a1"))return n;try{return t=t.substring(2).replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function ii(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function ri(n){if((!at||!at.matches)&&et&&!vt&&!yt&&!pt){var i=ot(n);i&&!lr(i)&&(t=i,k=sb_st(function(){hr()},ci))}}function er(n){r=n.currentTarget;ht();ri(r);r&&r.setAttribute("data-rs","true")}function or(){ht();r&&r.removeAttribute("data-rs");r=null}function sr(n){ht();r&&r.removeAttribute("data-rs");ri(n.currentTarget)}function ht(){k&&sb_ct(k);k=null}function hr(){wt(!0)}function cr(){var f=document.querySelector(".b_rrsr"),n,t,i,r,u;f&&(n=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){vt=n.isIntersecting})}),n&&n.observe(f));t=document.querySelector(".b_rs");t&&(i=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){yt=n.isIntersecting})}),i&&i.observe(t));r=document.querySelector(".richrswrapper");r&&(u=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){pt=n.isIntersecting})}),u&&u.observe(r))}function lr(n){return n.querySelector(".ad_hidenESL")?!0:!1}function ct(){var n;return typeof _G!="undefined"&&((n=_G===null||_G===void 0?void 0:_G.EF)===null||n===void 0?void 0:n.clickbackRSonAdAlgo)===1}function f(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswer!==undefined&&_G.EF.cbRSOnAnswer===1}function ar(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerFlare!==undefined&&_G.EF.cbRSOnAnswerFlare===1}function vr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerCF!==undefined&&_G.EF.cbRSOnAnswerCF===1}function yr(n){var t,i,r=document.querySelector(".b_rs");return r?((t=n.classList)===null||t===void 0?void 0:t.contains("b_ans"))&&((i=n.nextElementSibling)===null||i===void 0?void 0:i.querySelector(".b_rs"))?!0:ui(n):!1}function ui(n){if(!n)return!1;var t=_d.querySelectorAll("#b_results > .b_algo, #b_topw .sb_adTA, #b_results .sb_adTA");return t.length>0&&t[t.length-1]===n?!0:!1}function pr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRS===1}function wr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSFlare===1}function br(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSCF===1}function kr(){for(var i,n,r,u=document.querySelectorAll(".b_algo"),t=0;t<u.length;t++)if(i=u[t],n=i.getBoundingClientRect(),n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)&&(r=i.querySelector("h2 > a"),r))return r;return null}function dr(){var r=document.querySelector(".b_inline_ajax_rs"),u,t,n,f;if((!r||!(r.getBoundingClientRect().top>=0)||!(r.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)))&&(u=kr(),u&&i&&(t=u.getAttribute("href"),t)))for(n=0;n<i.length;n++)if(f=i[n],f.getAttribute("href")===t){wr()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["autoShowCBRSFlare"]);br()||(st(t,n.toString()),g());break}}function gr(){pr()&&_d.addEventListener("visibilitychange",function(){d&&(clearTimeout(d),d=null);_d.visibilityState==="hidden"&&(d=setTimeout(function(){dr()},ai))})}var fi=".b_attribution cite, .b_tpcn, .b_adTopIcon_container",nt="#b_results > .b_algo a,#b_topw .sb_adTA a,#b_results .sb_adTA a",o="#b_results > .b_algo > h2 > a,#b_results > .b_algo .sp-rn-title  > h2 > a,#b_results > .b_algo .b_imagePair  > h2 > a,#b_results > .b_algo > .b_title > h2 > a,#b_results .sb_adTA > h2 > a,#b_results .sb_adTA >.b_title > h2 > a",a="#b_topw .sb_adTA > h2 > a,#b_topw .sb_adTA >.b_title > h2 > a",ei="#b_results > .b_algo,#b_results .sb_adTA",tt="#b_results > .b_ans a",oi="inline_rs",u="b_hide",si=14,it=ir(),v="cbAdUrl",y="cbAdUrlIndex",i,p,lt=null,w=null,rt=null,t=null,ut=!1,hi="/recoRS?",b=".b_inline_ajax_rs",ft="b_inline_ajax_rs",s=null,h=null,ci=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHT)?parseInt(_G.CBRSHT)||600:600,nu=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTAM)?parseInt(_G.CBRSHTAM)||400:400,li=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTonP1)?parseInt(_G.CBRSHTonP1)||3e3:3e3,at=_w.matchMedia&&_w.matchMedia("(prefers-reduced-motion: reduce)"),et=!0,k=null,r=null,vt=!1,yt=!1,pt=!1,c=[],ai=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.AutoShowCBRSInterval)?parseInt(_G.AutoShowCBRSInterval)||3e5:3e5,d=null;n.bindEvent=vi})(ClickBackRS||(ClickBackRS={}))