"use strict";var ACF;(function(n){var t;(function(t){var i;(function(t){class i extends HTMLElement{constructor(n,t){super();this.eventListenerAbortController=null;this.loggingValues=null;this.myType=null;this.componentsToWaitFor=[];this.myType=n;this.componentsToWaitFor=[...t]}async connectedCallback(){if(this.eventListenerAbortController=new AbortController,document.readyState!=="loading"){await this.baseInit();return}document.addEventListener("readystatechange",n=>{const t=async()=>{n.target!==null&&n.target!==undefined&&n.target instanceof Document&&n.target.readyState!=="loading"&&await this.baseInit()};t().catch(()=>{})},{signal:this.eventListenerAbortController.signal,once:!0})}disconnectedCallback(){this.eventListenerAbortController!==null&&this.eventListenerAbortController!==undefined&&(this.eventListenerAbortController.abort(),this.eventListenerAbortController=null);this.dispose()}async baseInit(){if(!this.hasAttribute("data-acf-component"))throw new n.Common.Utils.ElementUtils.InvalidElementError("Did not find data-acf-component attribute");const t=this.getAttribute("data-appns");if(t===null||t===undefined||t==="")throw new n.Common.Utils.ElementUtils.InvalidElementError("Did not find data-appns");const i=this.getAttribute("data-kvalue");if(i===null||i===undefined||i==="")throw new n.Common.Utils.ElementUtils.InvalidElementError("Did not find data-kvalue");this.loggingValues={appNS:t,kValue:i};try{await Promise.all(this.componentsToWaitFor.map(t=>n.Common.Utils.LoggingUtils.waitForComponent(t)));await this.init();n.Common.Utils.LoggingUtils.componentDidInit(this.myType)}catch(r){const t=r instanceof Error?r.message:"";throw new n.Common.Utils.ElementUtils.InvalidElementError(`Failed in init component ${this.myType}: ${t}`);}}}t.AcfBaseElement=i})(i=t.AcfBase||(t.AcfBase={}))})(t=n.Common||(n.Common={}))})(ACF||(ACF={}))