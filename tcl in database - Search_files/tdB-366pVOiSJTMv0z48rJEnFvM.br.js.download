var GenSerpSectionControl;(function(n){function t(n,t){while(n){if(n.matches(t))return n;n=n.parentElement}return null}function f(n,t){var i={},r,u;if(n)for(r in n)i[r]=n[r];if(t)for(u in t)i[u]=t[u];return i}function i(){var r=_d.querySelectorAll(".gs_secctrl .gs_tblike, .gs_secctrl .gs_tbdislike"),i,n,t;for(n of r)t=n.parentElement.getAttribute("sct-id"),t&&!n.dataset.init&&(n.dataset.init="1",sj_be(n,"click",o));i=_d.querySelectorAll(".gs_secctrl .gs_copy");for(n of i)t=n.parentElement.getAttribute("sct-id"),t&&!n.dataset.init&&(n.dataset.init="1",sj_be(n,"click",s),sj_be(n,"keydown",h),sj_be(n,"keyup",c))}const r="SecIdx",e=(n,t,i,u)=>{Log.Log(i?"PositiveInteractionEvent":"NegativeInteractionEvent","APSAT","SectionFeedBack",!1,"AppNS",n,"K",t,r,u)},o=n=>{var f,o,t=n.currentTarget,i=u(t),h,s,c,r;const l=i===null||i===void 0?void 0:i.dataset.k,a=i===null||i===void 0?void 0:i.dataset.appns;(h=t.parentElement.getAttribute("sct-id"),h&&!t.classList.contains("gs_fb_voted"))&&(s=t.classList.contains("gs_tblike"),c=(o=(f=t.parentElement)===null||f===void 0?void 0:f.dataset.secIdx)!==null&&o!==void 0?o:"",e(a,l,s,c),s||sj_evt.fire("feedbackformrequested"),t.classList.contains("gs_fb_voted")||(r=t.parentElement.querySelector(".gs_fb_voted"),r&&(r.classList.remove("gs_fb_voted"),r.setAttribute("aria-pressed","false")),t.classList.add("gs_fb_voted"),t.setAttribute("aria-pressed","true")))},s=n=>{var e,o,s=n.currentTarget,t=u(s),y,c,l;const p=t===null||t===void 0?void 0:t.dataset.k,w=t===null||t===void 0?void 0:t.dataset.appns,b=f(_w._genserpData,_w._genserpAjaxData),k=f(_w._genserpSources,_w._genserpAjaxSources);let h=s.parentElement.getAttribute("sct-id"),a=sj_ce("div",null,null);a.innerHTML=h;let d=a.innerText;var v=b[h],g=k[h],nt=(o=(e=s.parentElement)===null||e===void 0?void 0:e.dataset.secIdx)!==null&&o!==void 0?o:"";if(Log.Log("InteractionEvent","APSAT","CopyToClipboard",!1,"AppNS",w,"K",p,r,nt),v&&window.ClipboardItem&&navigator.clipboard.write){var tt=v.join("\r\n"),it=g.join("\r\n"),i=d+"\r\n"+tt+"\r\n\r\nSource(s):\r\n"+it;if(window.markdownit){let n=document.createElement("div");n.innerHTML=window.markdownit({html:!1}).render(i);i=n.innerText}y=new ClipboardItem({"text/plain":new Blob([i],{type:"text/plain"})});try{navigator.clipboard.write([y])}catch(rt){navigator.clipboard.writeText(i)}}else c=_d.getSelection(),l=_d.createRange(),l.selectNodeContents(t),c.removeAllRanges(),c.addRange(l),_d.execCommand("copy"),window.getSelection().removeAllRanges();GenSerpScreenReader&&GenSerpScreenReader.announce(_w._locStringSectionCopied)},u=n=>{let i=t(n,".gs_temp");if(!i&&t(n,".gs_pre_cont_root")&&(i=_d.querySelector(".gs_temp")),!i){let r=t(n,".gs_section");i=r===null||r===void 0?void 0:r.querySelector(".gs_temp")}return i},h=n=>{var t=n.currentTarget;t&&n.key=="Enter"&&t.classList.add("gs_sec_copied")},c=n=>{var t=n.currentTarget;t&&n.key=="Enter"&&t.classList.remove("gs_sec_copied")};n.init=i;sj_evt.bind("wptajaxgenserp_complete",i,!0);sj_evt.bind("wptajaxgenserp_exp",i,!0)})(GenSerpSectionControl||(GenSerpSectionControl={}))