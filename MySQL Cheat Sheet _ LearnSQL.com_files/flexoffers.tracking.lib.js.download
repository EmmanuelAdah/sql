!function(e){var r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)o.d(t,n,function(r){return e[r]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=1)}([function(e,r,o){function t(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var n=o(2),i=n.getClickId,u=n.getOrderNumer,a=n.getOrderAmount,c=(n.verifyOrderAmount,n.getBodyParams),s=n.getCouponParams,d=n.getOrderName,m=n.getCurrency,f=n.getGeo,l=n.getCommissionIdParams,p="flexoffers.clickId",g=function(){function e(){var r,o,t;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),t=!1,(o="invoked")in(r=this)?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t,this.invoked=!0,this.uniqueAdvertiserId="",this.customerClickId=""}var r,o,n;return r=e,(o=[{key:"init",value:function(e){this.uniqueAdvertiserId=e}},{key:"getClick",value:function(){var e=window.location.href,r=i(e);if(r){this.customerClickId=r,window.localStorage.setItem(p,r);try{console.log(e);var o=new URL(e).hostname;console.log(o,"full domain");var t=o.replace("www.","");console.log(t,"just domain");var n="",u=t.split(".");u.length>=2&&(n=u.slice(-2).join("."));var a="";a=""==n?t:"."+n,console.log(a,"final domain set");var c=new Date;c.setTime(c.getTime()+2592e6),document.cookie="flexoffers.clickId.cookie="+r+";domain="+a+";path=/;expires="+c.toUTCString()+";"}catch(e){}}}},{key:"track",value:function(e){var r,o=e||{},t=null!==(r=window.localStorage.getItem(p))&&void 0!==r?r:this.customerClickId,n=u(o),i=a(o),g=c(o),y=d(o),_=s(o),v=m(o),b=f(o),w=l(o),h=new XMLHttpRequest;h.open("POST","".concat("https://track.flexlinkspro.com/da.ashx","?advertiserid=").concat(this.uniqueAdvertiserId,"&clickid=").concat(t,"&ordernumber=").concat(n,"&orderamount=").concat(i,"&coupon=").concat(_,"&ordername=").concat(y,"&currency=").concat(v,"&geo=").concat(b,"&commissionid=").concat(w)),h.setRequestHeader("Content-Type","application/json;charset=UTF-8"),h.send(JSON.stringify(g))}}])&&t(r.prototype,o),n&&t(r,n),e}();e.exports=new g},function(e,r,o){"use strict";o.r(r);var t=o(0),n=o.n(t);"undefined"==typeof console&&(console={log:function(){},error:function(){}}),n.a.init(window.flextrack.advertiserId),window.flextrack.map((function(e){n.a[e.shift()].apply(n.a,e)})),window.flextrack=n.a},function(e,r){var o="order_amount",t="order_number",n="order_items",i="order_coupon",u="order_name",a="order_currency",c="order_geo",s="order_commissionid";e.exports.getClickId=function(e){var r=/(?:24.\d+.\d+FOF\d+|\d+FOF\d+)/i.exec(e);if(r&&r.length>0)return r[0];var o=/=(24.\d\w+\.\d\w+\.\d+)/i.exec(e);return o&&o.length>1?o[1]:""},e.exports.getOrderNumer=function(e){return e.hasOwnProperty(t)&&e.order_number&&("string"==typeof e.order_number||"number"==typeof e.order_number)?e.order_number.toString():"FLX".concat(Date.now())},e.exports.getOrderAmount=function(e){return e.hasOwnProperty(o)&&e.order_amount&&!isNaN(Number(e.order_amount))?Number(e.order_amount):0},e.exports.getBodyParams=function(e){return e.hasOwnProperty(n)&&e.order_items&&Array.isArray(e.order_items)?e.order_items.filter((function(e){return e.hasOwnProperty("sku")&&e.hasOwnProperty("amount")&&!isNaN(Number(e.amount))})).map((function(e){return{sku:e.sku,amount:Number(e.amount),quantity:Number(e.quantity)||1,order_category:e.categories||[],commissionid:e.commissionid||""}})):[]},e.exports.getCouponParams=function(e){return e.hasOwnProperty(i)&&e.order_coupon&&("string"==typeof e.order_coupon||"number"==typeof e.order_coupon)?e.order_coupon.toString():""},e.exports.verifyOrderAmount=function(e,r){return r.length>0?r.reduce((function(e,r){return e+r.amount*r.quantity}),0):e},e.exports.getOrderName=function(e){return e.hasOwnProperty(u)&&e.order_name&&("string"==typeof e.order_name||"number"==typeof e.order_name)?e.order_name.toString():"0"},e.exports.getCurrency=function(e){return e.hasOwnProperty(a)&&e.order_currency&&"string"==typeof e.order_currency?e.order_currency.toString():""},e.exports.getGeo=function(e){return e.hasOwnProperty(c)&&e.order_geo&&"string"==typeof e.order_geo?e.order_geo.toString():""},e.exports.getCommissionIdParams=function(e){return e.hasOwnProperty(s)&&e.order_commissionid&&("string"==typeof e.order_commissionid||"number"==typeof e.order_commissionid)?e.order_commissionid.toString():""}}]);